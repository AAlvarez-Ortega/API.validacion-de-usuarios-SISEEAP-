<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>validacion</title>
</head>

<body>
 <h1>Bienvenido a SISEAP</h1>
 <p>Tu sesión ha sido validada correctamente.</p>




<script type="module">
import { createClient } from "https://cdn.jsdelivr.net/npm/@supabase/supabase-js/+esm";

const supabase = createClient(
  "https://wdgsvdjojwjebjrpgopn.supabase.co",
  "sb_publishable_TxHT2AsKDXlxYRGh0VgRMw_5VozTQ_p",
  {
    auth: {
      detectSessionInUrl: true,
      persistSession: true,
    }
  }
);

// ✅ Procesa el token del hash del URL
await supabase.auth.getSession();

const { data } = await supabase.auth.getUser();

if (!data.user) {
  window.location.href = "./index.html";
}
</script>


</body>
</html>
